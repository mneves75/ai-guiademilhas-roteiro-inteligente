# =============================================================================
# NextJS Bootstrapped Shipped - Environment Variables
# =============================================================================
# Copy this file to .env.local and fill in the values

# =============================================================================
# Application
# =============================================================================
NEXT_PUBLIC_APP_URL=http://localhost:3000
NODE_ENV=development
# LOG_LEVEL=info

# =============================================================================
# SEO (optional)
# =============================================================================
# Google Search Console HTML tag verification code (content=...)
# GOOGLE_SITE_VERIFICATION=
# Bing Webmaster Tools HTML tag verification code (content=...)
# BING_SITE_VERIFICATION=

# =============================================================================
# Database (PostgreSQL - Supabase recommended)
# =============================================================================
# Get from: https://supabase.com/dashboard → Settings → Database
# Use pooled connection string for serverless
DATABASE_URL=postgresql://user:password@hostname-pooler.supabase.com/dbname?sslmode=require

# DB provider: postgres (default) | sqlite | d1
# DB_PROVIDER=postgres

# SQLite only (when DB_PROVIDER=sqlite)
# SQLITE_PATH=./data/app.db

# Cloudflare D1 only (when using drizzle-kit with DB_PROVIDER=d1)
# CLOUDFLARE_ACCOUNT_ID=
# CLOUDFLARE_DATABASE_ID=
# CLOUDFLARE_D1_TOKEN=

# =============================================================================
# Authentication (Supabase Auth)
# =============================================================================
# Get from: https://supabase.com/dashboard → Settings → API
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here

# OAuth Providers (optional)
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# =============================================================================
# Email (Resend)
# =============================================================================
# Get your API key from https://resend.com
RESEND_API_KEY=RESEND_API_KEY_HERE
EMAIL_FROM=onboarding@yourdomain.com

# =============================================================================
# Storage (uploads, avatars)
# =============================================================================
# Provider: local (default) | r2 | vercel-blob
STORAGE_PROVIDER=local

# Local storage (recommended for local dev / VPS)
STORAGE_LOCAL_PATH=./data/uploads

# When STORAGE_PROVIDER=local, /api/files only serves keys under these prefixes (comma-separated).
# Default: avatars/,uploads/
# STORAGE_PUBLIC_PREFIXES=avatars/,uploads/

# Vercel Blob (optional)
# Requires: @vercel/blob installed + Vercel Blob store connected
# BLOB_READ_WRITE_TOKEN=

# Cloudflare R2 (optional, S3-compatible)
# Requires: @aws-sdk/client-s3 installed
# R2_ACCOUNT_ID=
# R2_ACCESS_KEY_ID=
# R2_SECRET_ACCESS_KEY=
# R2_BUCKET_NAME=
# R2_PUBLIC_DOMAIN=

# =============================================================================
# Payments (Stripe)
# =============================================================================
# Get your keys from https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=STRIPE_SECRET_KEY_HERE
STRIPE_WEBHOOK_SECRET=STRIPE_WEBHOOK_SECRET_HERE
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_xxxxxxxxxxxx

# Stripe Price IDs (create products in Stripe Dashboard)
STRIPE_PRO_MONTHLY_PRICE_ID=price_xxxxxxxxxxxx
STRIPE_PRO_YEARLY_PRICE_ID=price_xxxxxxxxxxxx
STRIPE_ENTERPRISE_MONTHLY_PRICE_ID=price_xxxxxxxxxxxx
STRIPE_ENTERPRISE_YEARLY_PRICE_ID=price_xxxxxxxxxxxx

# One-time payment (example product)
STRIPE_ONE_TIME_PRICE_ID=price_xxxxxxxxxxxx

# =============================================================================
# Admin Access
# =============================================================================
# Comma-separated list of admin email addresses
ADMIN_EMAILS=admin@example.com

# =============================================================================
# Vercel Deployment (optional)
# =============================================================================
VERCEL_PROJECT_ID=
VERCEL_ORG_ID=

# =============================================================================
# Analytics (optional)
# =============================================================================
NEXT_PUBLIC_POSTHOG_KEY=
NEXT_PUBLIC_POSTHOG_HOST=
# Optional server-side PostHog ingestion (defaults to NEXT_PUBLIC_* if omitted)
# POSTHOG_API_KEY=
# POSTHOG_HOST=

# GrowthBook (A/B testing)
# NEXT_PUBLIC_GROWTHBOOK_API_HOST=
# NEXT_PUBLIC_GROWTHBOOK_CLIENT_KEY=

# =============================================================================
# Observability (optional)
# =============================================================================
# Sentry (error tracking)
# SENTRY_DSN=
# SENTRY_ENVIRONMENT=development
# SENTRY_RELEASE=
# SENTRY_TRACES_SAMPLE_RATE=0.0

# OpenTelemetry tracing (OTLP/HTTP)
# Full endpoint URL (include /v1/traces if your collector expects it)
# OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318/v1/traces
# OTEL_SERVICE_NAME=nextjs-bootstrapped-shipped

# Prometheus metrics
# Protects GET /metrics via `Authorization: Bearer <token>`.
# In production, this should be set.
# METRICS_TOKEN=

# =============================================================================
# Feature Flags (optional)
# =============================================================================
ENABLE_REGISTRATION=true
ENABLE_EMAIL_VERIFICATION=false
MAINTENANCE_MODE=false

# =============================================================================
# Security (optional)
# =============================================================================
# security.txt (RFC 9116) - /.well-known/security.txt
# Recommended: set at least SECURITY_CONTACT_EMAIL in production.
# SECURITY_CONTACT_EMAIL=security@yourdomain.com
# Optional: a web form or alternative contact channel.
# SECURITY_CONTACT_URL=https://yourdomain.com/security-contact
# Optional: override URLs published in security.txt.
# SECURITY_POLICY_URL=https://yourdomain.com/security
# SECURITY_ACK_URL=https://yourdomain.com/security#acknowledgments
# SECURITY_ENCRYPTION_URL=https://yourdomain.com/.well-known/pgp-key.txt
#
# Note: In production, for non-local origins, the app will refuse to publish `/.well-known/security.txt`
# if SECURITY_CONTACT_EMAIL/URL is missing, and requires NEXT_PUBLIC_APP_URL to be https://.

# Optional shared store for Edge rate limiting (recommended for multi-instance/serverless).
# If set, /api/auth POST is rate limited with hard guarantees across instances.
# UPSTASH_REDIS_REST_URL=
# UPSTASH_REDIS_REST_TOKEN=

# =============================================================================
# AI Planner (optional, required for /api/planner/generate)
# =============================================================================
# Provider selection: `google` (default) or `lmstudio` (OpenAI-compatible local endpoint)
# PLANNER_PROVIDER=google
#
# Google AI Studio key for Gemini models:
# GOOGLE_GENERATIVE_AI_API_KEY=
#
# Optional: override model used by planner route.
# Defaults to gemini-2.5-flash.
# PLANNER_GOOGLE_MODEL=gemini-2.5-flash
#
# LM Studio (OpenAI-compatible local endpoint)
# PLANNER_LM_STUDIO_BASE_URL=http://localhost:1234/v1
# PLANNER_LM_STUDIO_MODEL=qwen_qwen3-next-80b-a3b-instruct
# PLANNER_LM_STUDIO_FALLBACK_MODEL=liquid/lfm2.5-1.2b
# Optional when your local endpoint requires auth:
# PLANNER_LM_STUDIO_API_KEY=lm-studio
